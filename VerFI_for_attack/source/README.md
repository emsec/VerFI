# VerFI for diagnosis

The code is tested with Visual Studio 2017.
The following facts should be considered:

- We made use "exprtk.hpp" file taken from http://www.partow.net/programming/exprtk/index.html
  It is uded to parse the library file.

- The code should be compiled by these switches: 
  /bigobj   (required for "exprtk.hpp")
  /openmp   (required for multi-threading)
  
- After successful build, 4 different files should be given to the program:
 
  - design file (verilog): the HDL desigh should be synthesized by a synthesizer (e.g., Design Compiler). 
    The resulting net-list should be given to the program as the circuit under analysis.
    Note that this version of the VerFI can only handle the ungrouped net-list, i.e., only one module in the verilog design.
    If you use Design Compiler, you can use below command to ungroup the design (after the comiple).
    Note that it does not affect the keep-hierachy, if you need this in your design.
    
    ungroup -all -flatten
    
    *After this command (Design Compiler) you should not recompile.

  - cell report file: it is one of the reports generated by the synthesizer (Design Compiler).
    It lists all cells available in teh deisgn and their hierarchy.
    Afte successful synthesis of the HDL design, the below command (in Design Compiler) can generate this cell report file:
    
    report_cell -nosplit > $RPT_CELLS_FILE

  - Library file: it includes the definition of the cells in the library with which the design has been synthesized.
    See the example folder. There is Library.txt file  for NANG45 library. 
    There is a header at the top of the file which explains who to add any cell into the library.
    
  - simulation file: it defined all simulation settings.
    See the example folder. There is a sim.txt file with inline comments explaining all parameters which need to be set.
    
- Note that the tool thinks that an injected fault is detected if the output is fully zero. 
